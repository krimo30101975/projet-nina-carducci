const filterButtons=document.querySelectorAll('.filter-btn');const images=document.querySelectorAll('.gallery picture');filterButtons.forEach(button=>{button.addEventListener('click',()=>{const filter=button.getAttribute('data-filter');filterButtons.forEach(btn=>btn.classList.remove('active'));button.classList.add('active');images.forEach(picture=>{const img=picture.querySelector('img');if(filter==='all'||img.getAttribute('data-category')===filter){picture.style.display='block'}else{picture.style.display='none'}})})});const track=document.querySelector('.carousel-track');const slides=Array.from(document.querySelectorAll('.carousel-slide'));const dots=Array.from(document.querySelectorAll('.dot'));const leftArrow=document.querySelector('.left-arrow');const rightArrow=document.querySelector('.right-arrow');let slideWidth=slides[0].clientWidth;let currentIndex=0;const firstClone=slides[0].cloneNode(!0);const lastClone=slides[slides.length-1].cloneNode(!0);track.appendChild(firstClone);track.insertBefore(lastClone,slides[0]);currentIndex=1;track.style.transform=`translateX(-${currentIndex * slideWidth}px)`;function updateDots(){dots.forEach((dot,index)=>{dot.classList.toggle('active',index===(currentIndex-1+slides.length)%slides.length)})}
function goToSlide(index){track.style.transition='transform 0.5s ease-in-out';track.style.transform=`translateX(-${index * slideWidth}px)`}
function checkPosition(){if(currentIndex===0){track.style.transition='none';currentIndex=slides.length;track.style.transform=`translateX(-${currentIndex * slideWidth}px)`}
if(currentIndex===slides.length+1){track.style.transition='none';currentIndex=1;track.style.transform=`translateX(-${currentIndex * slideWidth}px)`}}
rightArrow.addEventListener('click',()=>{if(currentIndex<=slides.length){currentIndex++;goToSlide(currentIndex);updateDots()}});leftArrow.addEventListener('click',()=>{if(currentIndex>0){currentIndex--;goToSlide(currentIndex);updateDots()}});track.addEventListener('transitionend',checkPosition);let startX=0;track.addEventListener('touchstart',(e)=>{startX=e.touches[0].clientX});track.addEventListener('touchend',(e)=>{const endX=e.changedTouches[0].clientX;const diff=startX-endX;if(diff>50){rightArrow.click()}else if(diff<-50){leftArrow.click()}});window.addEventListener('resize',()=>{slideWidth=slides[0].clientWidth;goToSlide(currentIndex)});setInterval(()=>{rightArrow.click()},10000)